@model IEnumerable<CULTMACEDONIA_v2.Models.PointUserFavoriteViewModel>

@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "UserFavorites";
}




@Html.Partial("_PageHeader")
<div id="wrap">
    <div class="container panel offset-top">
        <div class="row ">


            <div class="container row favlist-header">
                <div class="col-lg-4">




                    <div data-bind="if: isEmpty()">
                        <img data-bind="attr:{'src': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP0AAAC9CAIAAAD3D+zHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA1MjFDNTg0QjUyRjExRTNCQkNFQUZDQTE3Mzk1MkQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA1MjFDNTg1QjUyRjExRTNCQkNFQUZDQTE3Mzk1MkQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDUyMUM1ODJCNTJGMTFFM0JCQ0VBRkNBMTczOTUyRDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDUyMUM1ODNCNTJGMTFFM0JCQ0VBRkNBMTczOTUyRDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Ul9H4AAADxUlEQVR42uzdPUsjaxiA4U0yagLKlFbxN6it2lhYWPgP9M+lEnstxIA2FoJgoabxC0UECw1+DWHHnIcTWITlnGYnbBKvq1IjE3i58+YZyYylLMt+wDdTtgToHnQPugfdg+5B96B70D3oHnQPugfdg+5B96B70D3oHnSP7kH3oHvQPegedA+6B92D7kH3oHvQPegedA+6B92D7kH36B50D7oH3YPuQfege9A96B50D7oH3YPuQfege9A96B50D7pH96B70D3oHnQPugfdg+5B96B70D3oHnQPugfdg+5B96B7dA+6B93DCEosQVGazebt7e34+Hifjt/pdOr1+vLysqXW/QCJ6FutVrVazfO88INXKpUsyyyy7gdO7PQR/dTUVJqmpVKpwCN3u912u917Cuus+4ETO31Ev76+HttzsYdtNBrPz89WWPcDKnb6JEnK5XKxxyz2DQR/zylejCUDfkB0j+5B96B70D3oHnQPugfdg+5B96Or0+k0m82zszNLMSB8Lq3v7u/vd3d3r6+vq9VqlmXz8/PWRPcj7ujo6ODg4OPjo1ar5Xm+s7Pz9va2tLRkZXQ/mp6envb29lqtVqVS6V0vEl+USqX9/f1If2VlpdjPKqP7v33OVC5H2Zubm4+Pj1H814/Ox0NjY2PxJvD+/r66uhqTz6+HHh4ejo+Pu93u4uJimqaWUfdDJkKPOf7l5SUS//16kfjJxMTE6elpDD9ra2uTk5OXl5cnJycXFxe9K2jj24WFhdnZWW8Iuh/KXf9/LjCP9K+urra2tmLLv7m5id9MkiR+GA+9vr5ub2+fn5/HacDMzIyV1P1IiREoZpsYbKL4r9fjxtfxmolXxd3d3dzcXIw9X8chitmVLMHf3HWS5L9moXhVfH5+Hh4exthj4NH995qU4oUR9VsK3X/Hs2SLYL4fGj//9ScjSoz+cQQ3U9D9cOidqk5PT/9593me12o1S6r74eg+TdONjY2ipnwjvvl+CKKPbb7AW8PGoUw79vuBVqlU2u12o9Hox31hi73npu4pRqfT6X3QoB83cO3dBzyewjrrfrDU6/Uf/bxVd+//PljnQpT8NwGc14LuQfege9A96B50D7oH3YPuQfege9A96B50D7oH3YPu0T3oHnQPugfdg+5B96B70D3oHnQPugfdg+5B96B70D3oHt2D7kH3oHvQPegedA+6B92D7kH3oHvQPegedA+6B92D7kH36B50D7oH3YPuQfege9A96B50D7oH3YPuQfege9A96B50j+5B96B7GEH/CDAA55UVqV0DzYMAAAAASUVORK5CYII='}" class=" media-object"
                             style="width: 253px; height: 189px; " />
                    </div>

                    <div data-bind="if: !isEmpty()">
                        <img data-bind="attr:{'src':  userfavorites()[0].OneImagePath}" class=" media-object" style="width: 253px; height: 189px; " />
                    </div>






                </div>
                <div class="col-lg-8">

                    <div class="row">
                        <div class="col-lg-12"><h3>@CultResources.View.FavoriteSights</h3></div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            @CultResources.View.fromUser @User.Identity.GetUserName() -
                            <span data-bind="text:userfavorites().length == 1 ?  userfavorites().length + ' sight': userfavorites().length + ' sights'"></span>
                        </div>
                    </div>
                </div>


            </div>
            <p class="text-center no-favlist-items text-muted" data-bind="visible:isEmpty()">@CultResources.View.noFavoriteSights</p>


            <div class="container" id="over" data-bind="visible: false">

                <span class="Centerer"></span>

                <img src="~/Content/images/loading.GIF" />
            </div>







            <div id="favlist" class="container" style="display: none" data-bind=" foreach: userfavorites,visible: true">

                <div class="row favitem">
                    <div class="col-lg-1 full-height"><span data-bind="text:$index() + 1"></span></div>
                    <div class="col-lg-2 full-height">
                        <img data-bind="attr:{'src':  OneImagePath}" class=" media-object" style="width: 64px; height: 64px; " />
                    </div>
                    <div class="col-lg-6 full-height">
                        <a data-toggle="tooltip" data-placement="right"
                           title="" data-original-title="@CultResources.View.view" class="action-links tlp" data-bind="text: PointName,attr: { 'href': '@Url.Action("View","Points")/' + PointId }">

                        </a>
                    </div>
                    <div class="col-lg-3 full-height">

                        <a href="#" class="un-favitem" style="display:none">remove this</a>

                    </div>


                        
                        

                    
                </div>


            </div>




        </div>
    </div>
</div>

@section Scripts{
    <script src="~/Scripts/knockout-3.0.0.debug.js"></script>
    <script src="~/Scripts/knockout.mapping-latest.debug.js"></script>
    <script src="~/Scripts/ko-pointsuserfav.js"></script>
    <script>
        $(function () {


            $('.tlp').tooltip();

            $("#favlist").on({
                mouseenter: function () {
                    $(this).find(".un-favitem").slideDown("slow");
                },
                mouseleave: function () {
                    $(this).find(".un-favitem").slideUp();
                }
            }, 'div');

        });
    </script>
}


